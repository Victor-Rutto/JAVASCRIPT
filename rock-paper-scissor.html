<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>DOM Projects</title>

        <script>
            // Ensure the alert appears when the page loads
            window.onload = function() {
                alert('supersimple.dev/project/dom');
            };
        </script>
        <!-- <script> alert(supersimple.dev/project/dom)</script> -->

    </head>

    <body>
        <p>Rock Paper Scissor</p>
        <button onclick="
           playGame('rock');
        " class="rock">Rock</button>

        <button onclick="
        playGame('paper');
        " class="paper">Paper</button>

        <button onclick="
        playGame('scissor');
        " class="scissor">Scissor</button>

        <p class="js-score"></p>

        <button onclick="
            score.wins =0
            score.losses=0
            score.ties=0
            localStorage.removeItem('score');
            ">Reset Score</button>        


        <!-- ############ JAVASCRIPT ############ -->
        <script>
            let score = JSON.parse(localStorage.getItem('score'))||
            {
                wins: 0,
                losses: 0,
                ties: 0
            };

            document.querySelector('.js-score').innerHTML = `wins: 
            ${score.wins}, losses : ${score.losses}, Ties: ${score.ties}`

            function playGame(PlayerMOve){
                const ComputerMove = pickComputerMove();

                let result = '';

                if (PlayerMove === 'scissors'){
                    if (ComputerMove === 'rock'){
                        result = 'You lose';
                    }else if (ComputerMove === 'paper'){
                        result = 'You win.';
                    }else if (ComputerMove=== 'scissors'){
                        result = 'Tie';
                    }
                
                }else if (PlayerMove === 'paper'){
                    if (ComputerMove === 'rock'){
                        result = 'You win';
                    }else if (ComputerMove === 'paper'){
                        result = 'Tie';
                    }else if (ComputerMove=== 'scissors'){
                        result = 'You lose';
                    }

                }else if (PlayerMove === 'rock'){
                    if (ComputerMove === 'rock'){
                        result = 'Tie';
                    }else if (ComputerMove === 'paper'){
                        result = 'You lose';
                    }else if (ComputerMove=== 'scissors'){
                        result = 'You win';
                    }

                }

                if (result === 'You win'){
                    score.wins +=1;
                }else if (result === 'You lose'){
                    score.losses +=1;
                }else if (result === 'Tie'){
                    score.ties +=1;
                }

                
                localStorage.setItem('score', JSON.stringify(score));

                document.querySelector('.js-score').innerHTML = `wins: 
                    ${score.wins}, losses : ${score.losses}, Ties: ${score.ties}`

            alert(`You picked ${PlayerMove}. Computer Picked ${ComputerMove}. ${result}
            wins: ${score.wins}, losses : ${score.losses}, Ties: ${score.ties}`);

            
        }

        function pickComputerMove(){
            const randomNumber = Math.random();

            let ComputerMove = '';
            if (randomNumber >= 0 && randomNumber < 1 / 3){
                ComputerMove = 'rock';
            }else if (randomNumber >= 1 / 3 && randomNumber <2/3){
                ComputerMove = 'paper';
            }else if (randomNumber >=2/3 && randomNumber<1){
                ComputerMove= 'scissors';
            }

            return ComputerMove;
        }
            
        </script> 


    </body>
</html>